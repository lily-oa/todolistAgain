{"version":3,"sources":["all.js"],"names":["data","list","document","querySelector","toggleTab","btn","input","addEventListener","e","preventDefault","value","trim","alert","obj","content","checked","push","renderData","i","target","getAttribute","nodeName","splice","deleteBtn","newData","forEach","item","tabs","all","querySelectorAll","setAttribute","cardList","length","style","display","str","count","index","innerHTML","todoLength","textContent"],"mappings":";;AAAA;AACA,IAAIA,IAAI,GAAG,EAAX,C,CAEA;;AACA,IAAMC,IAAI,GAAGC,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAb,C,CAEA;;AACA,IAAIC,SAAS,GAAG,KAAhB,C,CAGA;;AACA,IAAMC,GAAG,GAAGH,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAAZ;AACA,IAAMG,KAAK,GAAGJ,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAd;AACAE,GAAG,CAACE,gBAAJ,CAAqB,OAArB,EAA8B,UAASC,CAAT,EAAW;AACvC;AACAA,EAAAA,CAAC,CAACC,cAAF;;AACA,MAAGH,KAAK,CAACI,KAAN,CAAYC,IAAZ,MAAsB,EAAzB,EAA4B;AAC1BC,IAAAA,KAAK,CAAC,WAAD,CAAL;AACA;AACD;;AACD,MAAIC,GAAG,GAAG,EAAV;AACAA,EAAAA,GAAG,CAACC,OAAJ,GAAcR,KAAK,CAACI,KAApB;AACAG,EAAAA,GAAG,CAACE,OAAJ,GAAc,KAAd;AACAf,EAAAA,IAAI,CAACgB,IAAL,CAAUH,GAAV;AACAP,EAAAA,KAAK,CAACI,KAAN,GAAc,EAAd;AACAO,EAAAA,UAAU;AACX,CAbD,E,CAeA;;AACAhB,IAAI,CAACM,gBAAL,CAAsB,OAAtB,EAA+B,UAASC,CAAT,EAAW;AACxC,MAAIU,CAAC,GAAGV,CAAC,CAACW,MAAF,CAASC,YAAT,CAAsB,UAAtB,CAAR;;AACA,MAAGZ,CAAC,CAACW,MAAF,CAASE,QAAT,IAAmB,GAAnB,IAA0Bb,CAAC,CAACW,MAAF,CAASC,YAAT,CAAsB,OAAtB,KAAkC,QAA/D,EAAwE;AACtE;AACAZ,IAAAA,CAAC,CAACC,cAAF,GAFsE,CAGtE;;AACAT,IAAAA,IAAI,CAACsB,MAAL,CAAYJ,CAAZ,EAAe,CAAf;AACD,GALD,MAKK;AACH;AACAlB,IAAAA,IAAI,CAACkB,CAAD,CAAJ,CAAQH,OAAR,GAAkB,CAACf,IAAI,CAACkB,CAAD,CAAJ,CAAQH,OAA3B;AACD,GAVuC,CAWxC;;;AACAE,EAAAA,UAAU;AACX,CAbD,E,CAeA;;AACA,IAAMM,SAAS,GAAGrB,QAAQ,CAACC,aAAT,CAAuB,YAAvB,CAAlB;AACAoB,SAAS,CAAChB,gBAAV,CAA2B,OAA3B,EAAoC,UAASC,CAAT,EAAW;AAC7C;AACAA,EAAAA,CAAC,CAACC,cAAF,GAF6C,CAG7C;;AACA,MAAIe,OAAO,GAAG,EAAd;AACAxB,EAAAA,IAAI,CAACyB,OAAL,CAAa,UAASC,IAAT,EAAc;AACzB,QAAG,CAACA,IAAI,CAACX,OAAT,EAAiB;AACfS,MAAAA,OAAO,CAACR,IAAR,CAAaU,IAAb;AACD;AACF,GAJD;AAKA1B,EAAAA,IAAI,GAAGwB,OAAP;AACAP,EAAAA,UAAU;AACX,CAZD,E,CAcA;;AACA,IAAMU,IAAI,GAAGzB,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAb;AACAwB,IAAI,CAACpB,gBAAL,CAAsB,OAAtB,EAA+B,UAASC,CAAT,EAAW;AACxC,MAAIoB,GAAG,GAAG1B,QAAQ,CAAC2B,gBAAT,CAA0B,SAA1B,CAAV,CADwC,CAExC;;AACAD,EAAAA,GAAG,CAACH,OAAJ,CAAY,UAASC,IAAT,EAAc;AACxBA,IAAAA,IAAI,CAACI,YAAL,CAAkB,OAAlB,EAA2B,EAA3B;AACD,GAFD,EAHwC,CAMxC;;AACAtB,EAAAA,CAAC,CAACW,MAAF,CAASW,YAAT,CAAsB,OAAtB,EAA+B,QAA/B,EAPwC,CAQxC;;AACA1B,EAAAA,SAAS,GAAGI,CAAC,CAACW,MAAF,CAASC,YAAT,CAAsB,UAAtB,CAAZ;AACAH,EAAAA,UAAU;AACX,CAXD,E,CAaA;;AAEA,IAAMc,QAAQ,GAAG7B,QAAQ,CAACC,aAAT,CAAuB,YAAvB,CAAjB,C,CAEA;;AAEA,SAASc,UAAT,GAAsB;AACtB;AACE,MAAG,CAACjB,IAAI,CAACgC,MAAT,EAAgB;AACdD,IAAAA,QAAQ,CAACE,KAAT,CAAeC,OAAf,GAAyB,MAAzB;AACA;AACD,GALmB,CAOpB;;;AACAH,EAAAA,QAAQ,CAACE,KAAT,CAAeC,OAAf,GAAyB,OAAzB;AACA,MAAIC,GAAG,GAAG,EAAV;AACA,MAAIC,KAAK,GAAG,CAAZ,CAVoB,CAUL;;AACfpC,EAAAA,IAAI,CAACyB,OAAL,CAAa,UAASC,IAAT,EAAeW,KAAf,EAAqB;AAChC,QAAG,CAACX,IAAI,CAACX,OAAN,IAAiB,IAApB,EAAyB;AACvB;AAEAqB,MAAAA,KAAK,IAAI,CAAT;;AACA,UAAGhC,SAAS,IAAI,KAAb,IAAsBA,SAAS,IAAI,MAAtC,EAA6C;AAC3C+B,QAAAA,GAAG,qJAG4CE,KAH5C,4CAIiBX,IAAI,CAACZ,OAJtB,8GAM8CuB,KAN9C,6CAAH;AASD;AACF,KAfD,MAeM,IACHX,IAAI,CAACX,OAAL,IAAgBX,SAAS,IAAI,KAA9B,IACCsB,IAAI,CAACX,OAAL,IAAgBX,SAAS,IAAI,MAF1B,EAGL;AACC+B,MAAAA,GAAG,uJAGoDE,KAHpD,0CAIiBX,IAAI,CAACZ,OAJtB,0GAM8CuB,KAN9C,yCAAH;AASD;AACF,GA9BD;AA+BApC,EAAAA,IAAI,CAACqC,SAAL,GAAiBH,GAAjB;AACAI,EAAAA,UAAU,CAACC,WAAX,GAAyBJ,KAAzB;AACD","file":"all.js","sourcesContent":["// 設置一個陣列，用來存放所有資料\nlet data = [];\n\n// 獲取清單列表的 ul li\nconst list = document.querySelector('.list');\n\n// 預設為第一個 ul.tab>li.active   (分頁標籤)為全部\nlet toggleTab = 'all';\n\n\n// 新增\nconst btn = document.querySelector('.btn_add');\nconst input = document.querySelector('#input');\nbtn.addEventListener('click', function(e){\n  // 取消預設事件 因為是超連結(a)，每次刪除會自動跳轉網頁\n  e.preventDefault();\n  if(input.value.trim() == ''){\n    alert('此項目名稱不得為空');\n    return;\n  }\n  let obj = {};\n  obj.content = input.value;\n  obj.checked = false;\n  data.push(obj);\n  input.value = '';\n  renderData();\n});\n\n//刪除\nlist.addEventListener('click', function(e){\n  let i = e.target.getAttribute('data-num');\n  if(e.target.nodeName=='A' && e.target.getAttribute('class') == 'delete'){\n    //暫停網頁跳轉\n    e.preventDefault();\n    // 根據索引值刪除一筆資料\n    data.splice(i, 1);\n  }else{\n    // 點擊刪除項目以外的地方就切換勾選狀態\n    data[i].checked = !data[i].checked;\n  }\n  // 每次更新資料都重新渲染畫面\n  renderData();\n});\n\n// 刪除所有完成項目\nconst deleteBtn = document.querySelector('.btn_clear');\ndeleteBtn.addEventListener('click', function(e){\n  // 取消預設跳轉事件\n  e.preventDefault();\n  //過濾一下，把沒打勾的項目丟到 newData 再把 data 內容變成 newData\n  let newData = [];\n  data.forEach(function(item){\n    if(!item.checked){\n      newData.push(item);\n    }\n  });\n  data = newData;\n  renderData();\n});\n\n// 切換 tab\nconst tabs = document.querySelector('.tab');\ntabs.addEventListener('click', function(e){\n  let all = document.querySelectorAll('.tab li');\n  // 每次點擊 tab 清空所有tab li 的 active\n  all.forEach(function(item){\n    item.setAttribute('class', '');\n  });\n  // 給當前點擊的 tab 添加 active\n  e.target.setAttribute('class', 'active');\n  // 更新當前的 tab\n  toggleTab = e.target.getAttribute('data-tab');\n  renderData();\n});\n\n//------------------------------------------------------------\n\nconst cardList = document.querySelector('.card_list');\n\n// 根據當前 tab 渲染畫面  初始值\n\nfunction renderData() {\n//如果沒有 data 默認把整個區塊隱藏\n  if(!data.length){\n    cardList.style.display = 'none';\n    return;\n  }\n\n  //如果是顯示的\n  cardList.style.display = 'block';\n  let str = '';\n  let count = 0; //初始值\n  data.forEach(function(item, index){\n    if(!item.checked == true){\n      // 計算待完成項目有幾個\n      \n      count += 1;\n      if(toggleTab == 'all' || toggleTab == 'work'){\n        str += `\n                <li>\n                  <label for=\"\" class=\"checkbox\">\n                    <input type=\"checkbox\" data-num=\"${index}\">\n                    <span>${item.content}</span>\n                  </label>\n                  <a href=\"#\" class=\"delete\" data-num=\"${index}\"></a>\n                </li>\n        `;\n      }\n    }else if(\n      (item.checked && toggleTab == 'all') || \n      (item.checked && toggleTab == 'done')\n    ){\n      str += `\n              <li>\n                <label for=\"\" class=\"checkbox\">\n                  <input type=\"checkbox\" checked data-num=\"${index}\">\n                  <span>${item.content}</span>\n                </label>\n                <a href=\"#\" class=\"delete\" data-num=\"${index}\"></a>\n              </li>\n      `;  \n    }\n  });\n  list.innerHTML = str;\n  todoLength.textContent = count;\n}"]}